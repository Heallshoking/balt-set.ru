# ü§ñ TELEGRAM MINI APP - –ù–ê–°–¢–†–û–ô–ö–ê

## üéØ –ß–¢–û –≠–¢–û:

**Telegram Mini App** - —ç—Ç–æ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä–æ–µ –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ Telegram.

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø (1 –∫–Ω–æ–ø–∫–∞ –≤ Telegram)
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram
- ‚úÖ –ü–æ–ª–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤–Ω—É—Ç—Ä–∏ –º–µ—Å—Å–µ–Ω–¥–∂–µ—Ä–∞
- ‚úÖ –†–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –≤—Å–µ—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º–∞—Ö (iOS, Android, Desktop)
- ‚úÖ –ù–µ –Ω—É–∂–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –¥–ª—è –±–æ—Ç–∞

---

## üöÄ –ë–´–°–¢–†–´–ô –°–¢–ê–†–¢:

### **–®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —á–µ—Ä–µ–∑ BotFather**

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram –∏ –Ω–∞–π–¥–∏—Ç–µ [@BotFather](https://t.me/BotFather)
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: `AI Service Master`
4. –í–≤–µ–¥–∏—Ç–µ username: `ai_service_master_bot`
5. **–°–æ—Ö—Ä–∞–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω!** (–Ω—É–∂–µ–Ω –¥–ª—è –±—É–¥—É—â–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π)

### **–®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Mini App**

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ BotFather –∫–æ–º–∞–Ω–¥—É `/newapp`
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞: `@ai_service_master_bot`
3. –í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ: `–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç`
4. –í–≤–µ–¥–∏—Ç–µ –æ–ø–∏—Å–∞–Ω–∏–µ: `–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–∫–∞–∑–∞–º–∏ –∏ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º`
5. –ó–∞–≥—Ä—É–∑–∏—Ç–µ —Ñ–æ—Ç–æ (512x512px) - –ª—é–±–æ–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
6. –û—Ç–ø—Ä–∞–≤—å—Ç–µ GIF-–¥–µ–º–æ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –∏–ª–∏ `/empty`
7. **–í–ê–ñ–ù–û!** –í–≤–µ–¥–∏—Ç–µ URL –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:
   ```
   https://heallshoking-ai-service-platform-mvp-11-12-2025-2f94.twc1.net/master
   ```

### **–®–∞–≥ 3: –î–æ–±–∞–≤—å—Ç–µ –∫–Ω–æ–ø–∫—É –≤ –º–µ–Ω—é –±–æ—Ç–∞**

1. –û—Ç–ø—Ä–∞–≤—å—Ç–µ BotFather –∫–æ–º–∞–Ω–¥—É `/mybots`
2. –í—ã–±–µ—Ä–∏—Ç–µ `@ai_service_master_bot`
3. –ù–∞–∂–º–∏—Ç–µ `Bot Settings` ‚Üí `Menu Button`
4. –í—ã–±–µ—Ä–∏—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω–æ–µ Mini App: `–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç`

**–ì–û–¢–û–í–û!** üéâ

---

## üì± –ö–ê–ö –ò–°–ü–û–õ–¨–ó–û–í–ê–¢–¨:

### **–î–ª—è –º–∞—Å—Ç–µ—Ä–æ–≤:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
2. –ù–∞–π–¥–∏—Ç–µ –±–æ—Ç–∞ `@ai_service_master_bot`
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **MENU** (–≤–Ω–∏–∑—É —ç–∫—Ä–∞–Ω–∞)
4. –í—ã–±–µ—Ä–∏—Ç–µ "–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç"
5. **–û—Ç–∫—Ä–æ–µ—Ç—Å—è –ø–æ–ª–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å** –≤–Ω—É—Ç—Ä–∏ Telegram!

---

## üîê –ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–ê–Ø –ê–í–¢–û–†–ò–ó–ê–¶–ò–Ø:

Telegram Mini Apps –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.

### **–û–±–Ω–æ–≤–∏—Ç–µ master-dashboard.html:**

–î–æ–±–∞–≤—å—Ç–µ –≤ –Ω–∞—á–∞–ª–æ `<script>`:

```javascript
// Telegram WebApp API
const tg = window.Telegram.WebApp;
tg.expand(); // –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω

// –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ Telegram
const telegramUser = tg.initDataUnsafe?.user;

if (telegramUser) {
    console.log('Telegram User:', telegramUser);
    
    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ –ø–æ Telegram ID
    const masterId = telegramUser.id;
    
    // –ò–ª–∏ –ø–æ –Ω–æ–º–µ—Ä—É —Ç–µ–ª–µ—Ñ–æ–Ω–∞ (–µ—Å–ª–∏ –µ—Å—Ç—å)
    const phone = telegramUser.phone_number;
    
    // –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –º–∞—Å—Ç–µ—Ä–∞
    loadMasterByTelegramId(masterId);
}

// –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–Ω–æ–ø–∫–∏ "–ù–∞–∑–∞–¥" –≤ Telegram
tg.BackButton.show();
tg.BackButton.onClick(() => {
    tg.close(); // –ó–∞–∫—Ä—ã—Ç—å Mini App
});
```

---

## üé® –°–¢–ò–õ–ò–ó–ê–¶–ò–Ø –ü–û–î TELEGRAM:

Telegram WebApp –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Ü–≤–µ—Ç–∞ —Ç–µ–º—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```javascript
// –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —Ç–µ–º—É Telegram
const themeParams = tg.themeParams;

document.documentElement.style.setProperty('--tg-theme-bg-color', themeParams.bg_color);
document.documentElement.style.setProperty('--tg-theme-text-color', themeParams.text_color);
document.documentElement.style.setProperty('--tg-theme-button-color', themeParams.button_color);
```

---

## ‚ö° –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –í–û–ó–ú–û–ñ–ù–û–°–¢–ò:

### **1. –ö–Ω–æ–ø–∫–∞ –≥–ª–∞–≤–Ω–æ–≥–æ —ç–∫—Ä–∞–Ω–∞:**

```javascript
tg.MainButton.text = "–ü—Ä–∏–Ω—è—Ç—å –∑–∞–∫–∞–∑";
tg.MainButton.show();
tg.MainButton.onClick(() => {
    acceptCurrentOrder();
});
```

### **2. –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è:**

```javascript
tg.showAlert("–ù–æ–≤—ã–π –∑–∞–∫–∞–∑!");
tg.showConfirm("–ü—Ä–∏–Ω—è—Ç—å –∑–∞–∫–∞–∑?", (confirmed) => {
    if (confirmed) acceptOrder();
});
```

### **3. Haptic Feedback (–≤–∏–±—Ä–∞—Ü–∏—è):**

```javascript
tg.HapticFeedback.impactOccurred('medium'); // –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏
tg.HapticFeedback.notificationOccurred('success'); // –ü—Ä–∏ —É—Å–ø–µ—Ö–µ
```

### **4. –û—Ç–∫—Ä—ã—Ç–∏–µ —Å—Å—ã–ª–æ–∫:**

```javascript
tg.openLink('https://maps.google.com/?q=' + address); // –ù–∞–≤–∏–≥–∞—Ü–∏—è
tg.openTelegramLink('tg://user?id=' + clientId); // –û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç —Å –∫–ª–∏–µ–Ω—Ç–æ–º
```

---

## üîÑ WORKFLOW:

```
–ú–∞—Å—Ç–µ—Ä –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç Telegram
        ‚Üì
–ù–∞–∂–∏–º–∞–µ—Ç MENU ‚Üí "–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç"
        ‚Üì
–û—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è /master –≤–Ω—É—Ç—Ä–∏ Telegram
        ‚Üì
–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—Ö–æ–¥ (–ø–æ Telegram ID)
        ‚Üì
–í–∏–¥–∏—Ç –∑–∞–∫–∞–∑—ã, –∫–∞–ª–µ–Ω–¥–∞—Ä—å, —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É
        ‚Üì
Google Calendar + Tasks —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç!
```

---

## üìä –°–†–ê–í–ù–ï–ù–ò–ï:

### **–ë–ï–ó Mini App (—Å—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥):**
```
–ú–∞—Å—Ç–µ—Ä ‚Üí Telegram –±–æ—Ç ‚Üí –¢–µ–∫—Å—Ç–æ–≤–æ–µ –º–µ–Ω—é ‚Üí –ö–æ–º–∞–Ω–¥—ã
‚ùå –ù–µ—É–¥–æ–±–Ω–æ
‚ùå –ù—É–∂–µ–Ω –æ—Ç–¥–µ–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –¥–ª—è –±–æ—Ç–∞
‚ùå –¢–æ–ª—å–∫–æ —Ç–µ–∫—Å—Ç, –Ω–µ—Ç –∫—Ä–∞—Å–∏–≤–æ–≥–æ UI
```

### **–° Mini App (–Ω–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥):**
```
–ú–∞—Å—Ç–µ—Ä ‚Üí Telegram MENU ‚Üí –ö—Ä–∞—Å–∏–≤—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚úÖ 1 –∫–Ω–æ–ø–∫–∞
‚úÖ –û–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä (Timeweb)
‚úÖ –ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π UI —Å –≥—Ä–∞–¥–∏–µ–Ω—Ç–∞–º–∏
‚úÖ Google Calendar + Tasks
```

---

## üåê –ü–£–ë–õ–ò–ß–ù–´–ô –î–û–°–¢–£–ü:

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç–∞, –º–∞—Å—Ç–µ—Ä–∞ —Å–º–æ–≥—É—Ç:

1. –ù–∞–π—Ç–∏ `@ai_service_master_bot` –≤ –ø–æ–∏—Å–∫–µ Telegram
2. –ù–∞–∂–∞—Ç—å **START**
3. –ù–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É **MENU** –≤–Ω–∏–∑—É
4. –í—ã–±—Ä–∞—Ç—å "–õ–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç"

**–ò–ª–∏ –∫–æ—Ä–æ—Ç–∫–∞—è —Å—Å—ã–ª–∫–∞:**
```
https://t.me/ai_service_master_bot/dashboard
```

---

## üîß –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –ò–ù–¢–ï–ì–†–ê–¶–ò–Ø (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û):

### **Webhook –¥–ª—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:**

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –º–∞—Å—Ç–µ—Ä–∞–º:

```python
# –í main.py –¥–æ–±–∞–≤–∏—Ç—å
import httpx

TELEGRAM_BOT_TOKEN = os.getenv("TELEGRAM_BOT_TOKEN", "")

async def send_telegram_notification(telegram_id: int, message: str):
    """–û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –≤ Telegram"""
    if not TELEGRAM_BOT_TOKEN:
        return
    
    url = f"https://api.telegram.org/bot{TELEGRAM_BOT_TOKEN}/sendMessage"
    async with httpx.AsyncClient() as client:
        await client.post(url, json={
            "chat_id": telegram_id,
            "text": message,
            "parse_mode": "HTML"
        })

# –ü—Ä–∏ –Ω–æ–≤–æ–º –∑–∞–∫–∞–∑–µ:
await send_telegram_notification(
    master_telegram_id,
    f"üîî <b>–ù–æ–≤—ã–π –∑–∞–∫–∞–∑!</b>\n\n"
    f"üìç {address}\n"
    f"üí∞ {price}‚ÇΩ\n"
    f"‚è∞ {time}"
)
```

---

## ‚úÖ –ì–û–¢–û–í–û!

**–¢–µ–ø–µ—Ä—å —É –≤–∞—Å:**
- ‚úÖ Telegram Mini App —Å –∫—Ä–∞—Å–∏–≤—ã–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º
- ‚úÖ –ë—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É MENU
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ Telegram
- ‚úÖ –ü–æ–ª–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å Google Calendar –∏ Tasks
- ‚úÖ –û–¥–∏–Ω —Å–µ—Ä–≤–µ—Ä (Timeweb) –≤–º–µ—Å—Ç–æ –¥–≤—É—Ö

**PROFIT!** üöÄ
