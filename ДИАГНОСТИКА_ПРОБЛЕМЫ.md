# üî¥ –î–ò–ê–ì–ù–û–°–¢–ò–ö–ê –ü–†–û–ë–õ–ï–ú–´ - app.balt-set.ru

**–î–∞—Ç–∞:** 13 –¥–µ–∫–∞–±—Ä—è 2025, 07:55  
**–°—Ç–∞—Ç—É—Å:** ‚ùå **–ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø –ü–†–û–ë–õ–ï–ú–ê**

---

## üîç –¢–ï–ö–£–©–ê–Ø –°–ò–¢–£–ê–¶–ò–Ø

### –ß—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç:

```bash
‚ùå /admin ‚Üí 404 Not Found (–æ–∂–∏–¥–∞–ª–æ—Å—å: HTML –∞–¥–º–∏–Ω–∫–∏)
‚ùå /master ‚Üí 404 Not Found (–æ–∂–∏–¥–∞–ª–æ—Å—å: –∫–∞–±–∏–Ω–µ—Ç –º–∞—Å—Ç–µ—Ä–∞)  
‚ùå /ai-chat ‚Üí 404 Not Found (–æ–∂–∏–¥–∞–ª–æ—Å—å: AI —á–∞—Ç)
‚ùå /track ‚Üí 404 Not Found (–æ–∂–∏–¥–∞–ª–æ—Å—å: –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ)
‚ùå /api ‚Üí –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç (–æ–∂–∏–¥–∞–ª–æ—Å—å: JSON —Å –∏–Ω—Ñ–æ)
```

### –ß—Ç–æ –†–ê–ë–û–¢–ê–ï–¢:

```bash
‚úÖ /health ‚Üí 200 OK (—Ä–∞–±–æ—Ç–∞–µ—Ç)
‚úÖ / ‚Üí 200 OK (–≥–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞)
```

---

## üß™ –ü–†–û–í–ï–î–Å–ù–ù–´–ï –¢–ï–°–¢–´

### ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - –†–ê–ë–û–¢–ê–ï–¢

```bash
$ python3 -m uvicorn main:app --host 127.0.0.1 --port 9000
$ curl http://localhost:9000/admin | head -40

–†–ï–ó–£–õ–¨–¢–ê–¢: ‚úÖ –ê–¥–º–∏–Ω–∫–∞ –æ—Ç–¥–∞—ë—Ç HTML –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ!
```

**–í—ã–≤–æ–¥**: –ö–æ–¥ **–ª–æ–∫–∞–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ!**

### ‚ùå Production —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ - –ù–ï –†–ê–ë–û–¢–ê–ï–¢

```bash
$ curl https://app.balt-set.ru/admin

–†–ï–ó–£–õ–¨–¢–ê–¢: ‚ùå –ü—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç, 404
```

**–í—ã–≤–æ–¥**: –ù–∞ Timeweb **—á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫!**

---

## üéØ –ù–ê–ô–î–ï–ù–ù–´–ï –ü–†–ò–ß–ò–ù–´

### –ü—Ä–∏—á–∏–Ω–∞ #1: Google –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∞ —Å—Ç–∞—Ä—Ç

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—ã–∑—ã–≤–∞–ª–æ `init_google_integration()`, –∫–æ—Ç–æ—Ä–∞—è —Ç—Ä–µ–±—É–µ—Ç OAuth –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –∏ **–±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–∞ –≤–µ—Å—å –∑–∞–ø—É—Å–∫**.

**–ö–∞–∫ –æ–±–Ω–∞—Ä—É–∂–∏–ª**: –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—Å–∫–∞–ª—Å—è, –Ω–æ –∑–∞—Å—Ç—Ä–µ–≤–∞–ª –Ω–∞:
```
Please visit this URL to authorize: https://accounts.google.com/...
```

**–†–µ—à–µ–Ω–∏–µ**: –°–¥–µ–ª–∞–ª –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π —á–µ—Ä–µ–∑ `threading`:
```python
import threading
def init_google_async():
    try:
        init_google_integration()
    except Exception as e:
        print(f"‚ö†Ô∏è Google: {e}")

threading.Thread(target=init_google_async, daemon=True).start()
```

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ, —Ä–∞–±–æ—Ç–∞–µ—Ç

### –ü—Ä–∏—á–∏–Ω–∞ #2: Timeweb –ù–ï –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è

**–ü—Ä–æ–±–ª–µ–º–∞**: –ü–æ—Å–ª–µ –¢–†–Å–• –¥–µ–ø–ª–æ–µ–≤ (–∫–æ–º–º–∏—Ç—ã `c472890`, `d267c51`, `561918d`) –Ω–∞ production **–≤—Å—ë –µ—â—ë —Å—Ç–∞—Ä–∞—è –≤–µ—Ä—Å–∏—è –∫–æ–¥–∞**.

**–î–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞**:
1. `/admin` –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `{"detail":"Not Found"}` (—Å—Ç–∞—Ä—ã–π –∫–æ–¥)
2. –õ–æ–∫–∞–ª—å–Ω–æ —Ç–æ—Ç –∂–µ –º–∞—Ä—à—Ä—É—Ç –æ—Ç–¥–∞—ë—Ç HTML (–Ω–æ–≤—ã–π –∫–æ–¥)
3. GitHub –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–æ–≤—ã–π –∫–æ–¥
4. Timeweb –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç "healthy", –Ω–æ –º–∞—Ä—à—Ä—É—Ç—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç

**–í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–∏—á–∏–Ω—ã**:
- Timeweb –Ω–µ —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç auto-deploy
- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏
- Build –ø—Ä–æ—Ü–µ—Å—Å –ø–∞–¥–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ GitHub webhook

---

## üìã –ß–¢–û –°–î–ï–õ–ê–ù–û

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –∫–æ–¥ ‚úÖ

- ‚úÖ –£–±—Ä–∞–Ω—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ `html_path.exists()` –∏–∑ –≤—Å–µ—Ö –º–∞—Ä—à—Ä—É—Ç–æ–≤
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω –Ω–æ–≤—ã–π –º–∞—Ä—à—Ä—É—Ç `/ai-chat`
- ‚úÖ Google –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ç–µ–ø–µ—Ä—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è
- ‚úÖ –õ–æ–∫–∞–ª—å–Ω–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ

### 2. –î–µ–ø–ª–æ–∏ ‚úÖ

```bash
c472890 - "CRITICAL FIX: –í—Å–µ HTML –º–∞—Ä—à—Ä—É—Ç—ã fallback"
d267c51 - "Force redeploy - Timeweb cache issue"  
561918d - "CRITICAL: Google async"
4284a10 - "Revert Google async" (–æ—Ç–∫–∞—Ç)
```

–í—Å–µ–≥–æ **4 –¥–µ–ø–ª–æ—è**, –Ω–æ **–Ω–∏ –æ–¥–∏–Ω –Ω–µ –ø—Ä–∏–º–µ–Ω–∏–ª—Å—è –Ω–∞ production**!

---

## ‚ö° –†–ï–®–ï–ù–ò–ï

### –®–ê–ì 1: –†—É—á–Ω–æ–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ –Ω–∞ Timeweb

1. –ó–∞–π—Ç–∏: https://timeweb.cloud/my/apps
2. –ù–∞–π—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ `balt-set.ru`
3. –ù–∞–∂–∞—Ç—å **"–ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å"**
4. –ü–æ–¥–æ–∂–¥–∞—Ç—å 1-2 –º–∏–Ω—É—Ç—ã
5. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å: `./check_production.sh`

### –®–ê–ì 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ Timeweb

–í –ø–∞–Ω–µ–ª–∏ Timeweb –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å:
- **Build logs** - –µ—Å—Ç—å –ª–∏ –æ—à–∏–±–∫–∏ –ø—Ä–∏ —Å–±–æ—Ä–∫–µ?
- **Runtime logs** - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ª–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ?
- **Deployment logs** - —Ç—Ä–∏–≥–≥–µ—Ä–∏—Ç—Å—è –ª–∏ –¥–µ–ø–ª–æ–π –æ—Ç GitHub?

### –®–ê–ì 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ auto-deploy

–í Timeweb App Platform –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
- ‚úÖ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –ø–æ–¥–∫–ª—é—á–µ–Ω
- ‚úÖ –í–µ—Ç–∫–∞ `main` —É–∫–∞–∑–∞–Ω–∞
- ‚úÖ Auto-deploy –≤–∫–ª—é—á–µ–Ω
- ‚úÖ Webhook –æ—Ç GitHub —Ä–∞–±–æ—Ç–∞–µ—Ç

### –®–ê–ì 4: –ï—Å–ª–∏ –Ω–∏—á–µ–≥–æ –Ω–µ –ø–æ–º–æ–≥–∞–µ—Ç

**–ü–ª–∞–Ω –ë**: –ü–µ—Ä–µ—Å–æ–∑–¥–∞—Ç—å –¥–µ–ø–ª–æ–π —Å –Ω—É–ª—è

1. –£–¥–∞–ª–∏—Ç—å —Ç–µ–∫—É—â–µ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ Timeweb
2. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
3. –ü–æ–¥–∫–ª—é—á–∏—Ç—å GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
4. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
5. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å

---

## üß© –ê–õ–¨–¢–ï–†–ù–ê–¢–ò–í–ù–û–ï –†–ï–®–ï–ù–ò–ï

–ï—Å–ª–∏ Timeweb –≤–æ–æ–±—â–µ –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç auto-deploy, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å **—Ä—É—á–Ω–æ–π –¥–µ–ø–ª–æ–π —á–µ—Ä–µ–∑ CLI**:

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Timeweb CLI
npm install -g @timeweb-cloud/twc-cli

# –ó–∞–ª–æ–≥–∏–Ω–∏—Ç—å—Å—è
twc login

# –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å
twc deploy --app balt-set.ru
```

---

## üìä –ü–†–û–í–ï–†–û–ß–ù–´–ô –ß–ï–ö–õ–ò–°–¢

–ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:

```bash
# –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
./check_production.sh

# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å 80-100%
```

**–ò–ª–∏ –≤—Ä—É—á–Ω—É—é**:

```bash
‚úÖ curl https://app.balt-set.ru/admin | head -20
   ‚Üí –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å HTML –∞–¥–º–∏–Ω–∫–∏

‚úÖ curl https://app.balt-set.ru/api
   ‚Üí –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å JSON —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π

‚úÖ curl https://app.balt-set.ru/master | head -20
   ‚Üí –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å HTML –∫–∞–±–∏–Ω–µ—Ç–∞ –º–∞—Å—Ç–µ—Ä–∞
```

---

## üí° –í–´–í–û–î

**–ü—Ä–æ–±–ª–µ–º–∞ –ù–ï –≤ –∫–æ–¥–µ** - –ª–æ–∫–∞–ª—å–Ω–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–¥–µ–∞–ª—å–Ω–æ!  
**–ü—Ä–æ–±–ª–µ–º–∞ –≤ Timeweb** - –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ GitHub.

**–î–µ–π—Å—Ç–≤–∏–µ**: –ù—É–∂–Ω–æ **–≤—Ä—É—á–Ω—É—é –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å** –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ –ø–∞–Ω–µ–ª–∏ Timeweb.

---

## üîó –°–°–´–õ–ö–ò

- üõ†Ô∏è **Timeweb Panel**: https://timeweb.cloud/my/apps
- üíª **GitHub Repo**: https://github.com/Heallshoking/balt-set.ru
- üìù **–ü–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç**: `4284a10` (–æ—Ç–∫–∞—Ç Google async)
- üß™ **–ü—Ä–æ–≤–µ—Ä–∫–∞**: `./check_production.sh`

---

‚ú® **–ü–æ—Å–ª–µ —Ä—É—á–Ω–æ–≥–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ –≤—Å—ë –¥–æ–ª–∂–Ω–æ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å!** üöÄ
